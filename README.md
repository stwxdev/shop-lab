# Онлайн магазин

Інтернет-магазин з каталогом товарів, де користувачі можуть здійснювати покупки без реєстрації.

## Функціонал

- **Незареєстровані користувачі:**
  - Перегляд каталогу товарів
  - Додавання товарів до кошика
  - Оформлення замовлень (телефон, адреса, коментар)

- **Менеджери магазину:**
  - Управління каталогом товарів (додавання, редагування, видалення)
  - Управління категоріями

- **Працівники складу:**
  - Перегляд черги нових замовлень
  - Переведення замовлень в статус "оброблене"

## Технології

- **Frontend:** Nuxt 4, Nuxt UI 4, Vue 3
- **Backend:** Nuxt Server API, Prisma
- **База даних:** SQLite (для розробки)

## Встановлення

1. Встановіть залежності:
```bash
bun install
# або
npm install
```

2. Створіть файл `.env` в корені проекту:
```env
DATABASE_URL="file:./dev.db"
SESSION_SECRET="your-secret-key-here"
```

3. Створіть базу даних та застосуйте міграції:
```bash
bunx prisma migrate dev --name init
# або
npx prisma migrate dev --name init
```

4. Заповніть базу даних початковими даними (опціонально):
```bash
# Запустіть сервер та виконайте POST запит до /api/seed
# або використовуйте інструменти типу Postman
```

## Запуск

Розробка:
```bash
bun run dev
# або
npm run dev
```

Продакшн:
```bash
bun run build
bun run preview
```

## Тестові користувачі

Після виконання seed скрипту (`/api/seed`), будуть створені:

- **Менеджер:**
  - Email: `manager@shop.com`
  - Пароль: `password`

- **Працівник складу:**
  - Email: `warehouse@shop.com`
  - Пароль: `password`

**Увага:** В продакшні обов'язково змініть паролі користувачів!

## Структура проекту

```
app/
  components/     # Vue компоненти
  composables/    # Composables (useCart, useAuth)
  pages/          # Сторінки додатку
  assets/         # Статичні ресурси

server/
  api/            # API endpoints
  utils/          # Серверні утиліти

prisma/
  schema.prisma   # Схема бази даних
```

## API Endpoints

### Аутентифікація
- `POST /api/auth/login` - Вхід
- `POST /api/auth/logout` - Вихід
- `GET /api/auth/me` - Поточна сесія

### Товари
- `GET /api/products` - Список товарів
- `POST /api/products` - Створити товар (тільки менеджери)
- `GET /api/products/:id` - Отримати товар
- `PUT /api/products/:id` - Оновити товар (тільки менеджери)
- `DELETE /api/products/:id` - Видалити товар (тільки менеджери)

### Категорії
- `GET /api/categories` - Список категорій
- `POST /api/categories` - Створити категорію (тільки менеджери)

### Замовлення
- `GET /api/orders` - Список нових замовлень (тільки працівники складу)
- `POST /api/orders` - Створити замовлення
- `POST /api/orders/:id/process` - Обробити замовлення (тільки працівники складу)

## Особливості

- Замовлення зі статусом "PROCESSED" автоматично видаляються з черги
- Користувачі створюються вручну через базу даних або API
- Сесії зберігаються в cookies
- Всі ціни в UAH (гривня)

## Розробка

Для додавання нових функцій:

1. Оновіть Prisma схему якщо потрібно
2. Створіть міграцію: `bunx prisma migrate dev`
3. Додайте API endpoints в `server/api/`
4. Створіть компоненти/сторінки в `app/`

## Ліцензія

MIT